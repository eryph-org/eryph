<Page x:Class="Eryph.Runtime.Uninstaller.SupportRequestPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:Eryph.Runtime.Uninstaller"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      mc:Ignorable="d"
      d:DesignHeight="500" d:DesignWidth="800"
      Title="SupportRequestPage"
      Loaded="Page_Loaded">

    <local:TwoColumnLayout
        LeftTitle="Support Request"
        ContextDescription="Submitting your request to our support team."
        BreadcrumbText="Request Support">
        <local:TwoColumnLayout.PageContent>
            <StackPanel>
                <ui:TextBlock Text="Submitting Support Request"
                              FontTypography="Title"
                              Margin="0,0,0,8"/>
                <ui:TextBlock Text="Please wait while we submit your request to our support team."
                              FontTypography="Body"
                              Appearance="Secondary"
                              TextWrapping="Wrap"
                              Margin="0,0,0,32"/>

                <!-- Processing State -->
                <ui:Card Margin="0,0,0,16">
                    <StackPanel Margin="24,16">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <ui:ProgressRing IsIndeterminate="True"
                                             Width="20" Height="20"
                                             Margin="0,0,12,0"
                                             Visibility="{Binding IsProcessingVisible}"/>
                            <ui:SymbolIcon Symbol="Checkmark24"
                                           FontSize="20"
                                           Foreground="{ui:ThemeResource SystemFillColorSuccessBrush}"
                                           Margin="0,0,12,0"
                                           Visibility="{Binding IsSuccessVisible}"/>
                            <ui:SymbolIcon Symbol="Warning24"
                                           FontSize="20"
                                           Foreground="{ui:ThemeResource SystemFillColorCriticalBrush}"
                                           Margin="0,0,12,0"
                                           Visibility="{Binding IsErrorVisible}"/>
                            <ui:TextBlock Text="{Binding StatusText}"
                                          FontTypography="Body"
                                          VerticalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </ui:Card>

                <!-- Request Summary -->
                <ui:Card Margin="0,0,0,24">
                    <StackPanel Margin="24">
                        <ui:TextBlock Text="Request Details"
                                      FontTypography="Body"
                                      Margin="0,0,0,12"/>
                        <ui:TextBlock Text="{Binding RequestSummary}"
                                      FontFamily="Consolas,Courier New,Monospace"
                                      FontTypography="Caption"
                                      TextWrapping="Wrap"
                                      Appearance="Secondary"/>
                    </StackPanel>
                </ui:Card>

                <!-- Status Messages -->
                <ui:InfoBar Title="{Binding InfoBarTitle}"
                            Message="{Binding InfoBarMessage}"
                            Severity="{Binding InfoBarSeverity}"
                            Visibility="{Binding InfoBarVisibility}"
                            Margin="0,0,0,24"/>

                <!-- Action Buttons -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <ui:Button Content="Try Again"
                               Appearance="Secondary"
                               Click="TryAgainButton_Click"
                               Width="120"
                               Margin="0,0,16,0"
                               Visibility="{Binding RetryButtonVisibility}"/>
                    <ui:Button Content="Close"
                               Appearance="Primary"
                               Click="CloseButton_Click"
                               Width="120"
                               Visibility="{Binding CloseButtonVisibility}"/>
                </StackPanel>
            </StackPanel>
        </local:TwoColumnLayout.PageContent>
    </local:TwoColumnLayout>
</Page>